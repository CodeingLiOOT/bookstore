!function(Q,L){"use strict";var g="ht",z=Q[g],i="px",u="left",V="top",C="bottom",K="right",A="innerHTML",B="className",G="",W="width",o="height",b="string",e="position",q="absolute",R="0",f="opacity",M="background",Z=z.Default,t=Z.getInternal(),n=z.Color,y=Z.animate,I=Z.isTouchable,h=null,J=(Math.sqrt,Q.parseInt),c=Q.setTimeout,k=(Math.round,n.titleIconBackground),N=function(f){return typeof f===b||f instanceof String},T=function(){return document},$=function(X){return T().createElement(X)},P=function(){var d=$("div");return d.tabIndex=-1,d.style.outline="none",d},Y=function(){return $("canvas")},v=function(A,l){r(A,"-webkit-transform",l),r(A,"-ms-transform",l),r(A,"transform",l)},r=function(U,m,t){U.style.setProperty(m,t,h)},H=function(h,m,R){Z.def(z.widget[h],m,R)},X=function(M,d){M.appendChild(d)},s=function(){return T().documentElement},x=function(){return s().clientWidth},j=function(){return s().clientHeight},F=function(q,A,Y,U){q.addEventListener(A,Y,!!U)},w=function(R){var q=R.touches[0];return q?q:R.changedTouches[0]};t.addMethod(Z,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:k},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:k}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:k},{type:"rect",rect:[10,10,80,20],background:k}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:k},{type:"rect",rect:[10,34,56,14],background:k},{type:"rect",rect:[34,10,56,14],background:k},{type:"rect",rect:[82,10,8,56],background:k},{type:"rect",rect:[66,62,24,8],background:k}]},dialogTitleLabelColor:Z.labelSelectColor,dialogTitleLabelFont:(I?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:Z.labelFont,dialogTitleBackground:n.titleBackground,dialogHeaderBackground:n.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var l=function(l){var i=this;i.$1d=l,i.addListeners()};Z.def(l,L,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function($){var o=this,u=o.$1d,N=u.$6d,J=u._config,n=u.$7d,K=$,f=$.target;if(n.contains(f)||Z.preventDefault($),Z.isLeftButton($)){I&&(K=w($));var x=o.$8d={x:K.pageX,y:K.pageY};o.$9d={x:x.x,y:x.y},!J.maximized&&J.draggable&&N.contains(f)&&(o.$4d=!0,Z.startDragging(o,$)),o.handle_mousemove($)&&(o.$2d=!0,Z.startDragging(o,$)),n.contains($.target)||u.$41d.focus()}},handle_mousedown:function(s){this.handle_touchstart(s)},handle_touchend:function(l){if(Z.isLeftButton(l)&&!this.$5d&&!this.$3d){var Q=this,V=Q.$1d,o=l.target,z=V._config,M=V.$18d,B=V.$16d;for(z.closable&&M.contains(o)&&V.hide(),z.maximizable&&B.contains(o)&&(z.maximized?V.restore():V.maximize());o&&(o.className||"").indexOf("dialog-button")<0;)o=o.parentNode;o&&o.buttonItem&&V.action&&V.action(o.buttonItem,l),delete Q.$8d,delete Q.$9d}},handle_mouseup:function(E){this.handle_touchend(E)},handleWindowTouchEnd:function(U){var K=this,B=K.$1d,k=B.$10d;K.$2d&&K.$3d?k.fire({kind:"endResize",target:B,originEvent:U}):K.$4d&&K.$5d&&k.fire({kind:"endMove",target:B,originEvent:U}),this.clear()},handleWindowMouseUp:function(t){this.handleWindowTouchEnd(t)},handle_mousemove:function(W){var P=this.$1d._config;if(P.maximized)return!1;if("w"!==P.resizeMode&&"h"!==P.resizeMode&&"wh"!==P.resizeMode)return!1;var O=this,k=O.getView(),s=k.querySelector(".resize-area"),n=s.getBoundingClientRect(),M={x:n.left,y:n.top,width:n.width,height:n.height};W=I?w(W):W;var Y=W.clientX,A=W.clientY,L={x:Y,y:A};return Z.containsPoint(M,L)?(r(k,"cursor","nwse-resize"),!0):(r(k,"cursor",G),void 0)},handleWindowTouchMove:function(n){n.preventDefault();var M=n;I&&(M=w(n));var W=this,z=W.$8d,k=W.$9d;if(!(k.x==z.x&&k.y==z.y&&Z.getDistance(k,{x:M.pageX,y:M.pageY})<=1)){var B=W.$1d,A=B._config,d=B.$21d,T=A.resizeMode||"wh",U=M.pageX-z.x,L=M.pageY-z.y;if(W.$2d){var b=d.offsetWidth,m=d.offsetHeight,Q=b+U,N=m+L;if(Q=Math.max(Q,50),N=Math.max(N,50),"center"===A.position||A.position==h){var l={},f=d.getBoundingClientRect();l.x=f.left,l.y=f.top,A.position=l}"w"===T?(B.setSize(Q,m),z.x+=Q-b):"h"===T?(B.setSize(b,N),z.y+=N-m):"wh"===T&&(B.setSize(Q,N),z.x+=Q-b,z.y+=N-m),W.$3d?B.$10d.fire({kind:"betweenResize",target:B,originEvent:n}):(W.$3d=!0,B.$10d.fire({kind:"beginResize",target:B,originEvent:n}))}else if(W.$4d){var c=d.getBoundingClientRect(),p=c.width,F=c.height,s=x(),y=j(),P=J(d.style.left)||0,X=J(d.style.top)||0,t=P+U,v=X+L,E=B.adjustPosition({x:t,y:v},{width:p,height:F},{width:s,height:y});E&&(t=E.x,v=E.y);var H=t-P,S=v-X;r(d,u,t+i),r(d,V,v+i),z.x+=H,z.y+=S,A.position={x:t,y:v},W.$5d?B.$10d.fire({kind:"betweenMove",target:B,originEvent:n}):(W.$5d=!0,B.$10d.fire({kind:"beginMove",target:B,originEvent:n}))}}},handleWindowMouseMove:function(c){this.handleWindowTouchMove(c)},handleWindowResize:function(){var Z=this,k=Z,m=k._config,$=k.$21d,S=x(),v=j(),C=m.width,e=m.height,a=m.position||"center";m.maximized?(r($,W,S+i),r($,o,v+i),r($,V,R),r($,u,R)):(r($,W,C+i),r($,o,e+i),"center"===a?(r($,u,(S-C)/2+i),r($,V,(v-e)/2+i)):(r($,u,a.x+i),r($,V,a.y+i))),k.iv()},handle_mousewheel:function(P){P.stopPropagation()},handle_DOMMouseScroll:function(Q){Q.stopPropagation()}}),z.widget.Dialog=function(J){var G=this,H=G._view=t.createView(null,G);H[B]="ht-widget-dialog",r(H,e,q),Z.baseZIndex!=h&&r(H,"z-index",Z.baseZIndex+"");var P=G.$11d=new l(G);G.bindingHandleWindowResize=P.handleWindowResize.bind(G),G.$10d=new z.Notifier,J&&G.setConfig(J)},H("Dialog",L,{ms_v:1,setTitle:function(N){this._config.title=N,this.getView().querySelector(".dialog-container-title span").innerHTML=N},$31d:function(){var Q=this,U=Q.$6d=P(),h=Q._config,b=Q.$12d=Q.$13d();U[B]="dialog-container-title",r(U,"cursor","default"),r(U,"white-space","nowrap"),r(U,"overflow","hidden"),r(U,"font",Z.dialogTitleLabelFont),r(U,M,h.titleBackground||Z.dialogTitleBackground),r(U,"color",h.titleColor||Z.dialogTitleLabelColor);var f=$("span"),s=Q.$25d();if(h.titleAlign&&r(U,"text-align",h.titleAlign),h.titleIcon){var J=Q.$14d=Q.$15d();X(U,J)}if(h.title&&h.title.trim&&(h.title=h.title.trim()),f[A]=h.title||"&nbsp;",X(U,f),h.maximizable){var o=Q.$16d=Q.$17d();X(b,o)}if(h.closable){var H=Q.$18d=Q.$19d();X(b,H)}return X(U,b),r(U,"display","block"),r(U,"line-height",s+i),U},$13d:function(){var o=P();return r(o,e,q),r(o,u,R),r(o,K,5+i),r(o,V,R),r(o,C,R),r(o,"text-align",K),r(o,"white-space","nowrap"),o[B]="dialog-title-controls",o},$20d:function(){var c=this.$21d=P(),b=this._config,O=b.borderWidth;return r(c,e,"fixed"),r(c,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),r(c,"padding",R+" "+O+i+" "+O+i+" "+O+i),r(c,"box-sizing","border-box"),r(c,"-moz-box-sizing","border-box"),c[B]="dialog-container",r(c,M,b.titleBackground||Z.dialogTitleBackground),c},$22d:function(){var j,H=this,m=H._config,c=H.$7d=P(),d=m.content,U=0,x=m.contentPadding||0;m.buttons!=h&&m.buttons.length>0&&(U=32),N(d)?c[A]=d:d.getView?(j=d.getView(),X(c,j)):(j=d,X(c,j)),r(c,e,q),r(c,"font",Z.dialogContentLabelFont),z.Default.appendToScreen(c);var n=c.offsetWidth+1,_=c.offsetHeight,M=H.$25d();return m.width==h&&(m.width=n+10+2*x),m.height==h&&(m.height=_+M+U+5+2*x),z.Default.removeHTML(c),j&&(r(j,"box-sizing","border-box"),r(j,"-moz-box-sizing","border-box"),r(j,W,"100%"),r(j,o,"100%")),c[B]="dialog-content",r(c,V,M+x+i),r(c,C,U+x+i),r(c,u,x+i),r(c,K,x+i),r(c,"overflow","hidden"),c},getOverlayDiv:function(){return this.$41d},$23d:function(){var O=this.$41d=P();return O[B]="dialog-overlay",r(O,W,"100%"),r(O,o,"100%"),r(O,e,"fixed"),r(O,V,R),r(O,u,R),r(O,M,"rgba(235, 235, 235, 0.7)"),O},_config:h,setSize:function(x,M){var w=this,G=w._config;G&&(G.width=x,G.height=M,w.isShowing()&&(w.bindingHandleWindowResize(),w.iv()))},getConfig:function(){return this._config},$24d:function(){var A=this._config,N=A.titleIconSize||16;return I&&(N*=1.2),N},$25d:function(){var Y=this._config,O=Y.titleHeight||Z.widgetTitleHeight;return O},$26d:function(h){r(h,"cursor","pointer"),r(h,"display","inline-block"),r(h,"margin-right",(I?8:4)+i),r(h,"vertical-align",V)},$27d:function(){var G=this.$30d=P(),u=10;return I&&(u=20),r(G,W,u+i),r(G,o,u+i),r(G,e,q),r(G,C,R),r(G,K,R),G[B]="resize-area",G},$15d:function(){var q=this,P=Y();P[B]="dialog-title-control dialog-title-control-icon";var M=q.$25d(),L=q.$24d();return q.$26d(P),t.setCanvas(P,L,M),P},$17d:function(){var H=Y();H[B]="dialog-title-control dialog-title-control-maximize";var c=this.$25d(),K=this.$24d();return this.$26d(H),t.setCanvas(H,K,c),H},$19d:function(){var Q=Y();Q[B]="dialog-title-control dialog-title-control-close";var h=this.$25d(),c=this.$24d();return this.$26d(Q),t.setCanvas(Q,c,h),Q},$28d:function(){var U=P();return r(U,M,"white"),r(U,W,"100%"),r(U,o,"100%"),r(U,e,"relative"),U},$29d:function(){var U=this,t=P();r(t,"line-height",32+i),r(t,e,q),r(t,C,R),r(t,u,R),r(t,"white-space","nowrap"),r(t,"overflow","hidden"),r(t,K,R),r(t,M,Z.dialogHeaderBackground),t[B]="dialog-container-buttons";var k=this._config,v=k.buttonsAlign||K,S=0;return r(t,"text-align",v),U.$42d=[],k.buttons.forEach(function(l){var H=new z.widget.Button,G=H.getView();G[B]="dialog-button "+l.className,G.buttonItem=l,U.$42d.push(H),H.setBorderColor(h),H.setBackground(Z.dialogButtonBackground),H.setSelectBackground(Z.dialogButtonSelectBackground),H.setLabelColor(Z.dialogButtonLabelColor),r(G,e,"static"),r(G,"display","inline-block"),r(G,"text-align",u),r(G,"height",24+i);var V=I?10:5;v===u||v===K?r(G,"margin-"+v,V+i):0===S||r(G,"margin-"+u,V+i),r(G,"vertical-align","middle");var d=Z.getTextSize(H.getLabelFont(),l.label).width+10;H.onClicked=function(h){l.action&&l.action.call(U,l,h)},H.setLabel(l.label),r(G,W,d+i),X(t,H.getView()),S++}),t},setConfig:function(T){if(T){var z=this,q=z._view;z._config=T,z.action=T.action,q[A]=G,T.borderWidth==h&&(T.borderWidth=5);var U=z.$23d(),a=z.$28d(),x=z.$31d(),K=z.$22d(),W=z.$20d(),L=z.$30d=z.$27d();if(X(q,U),X(q,W),X(W,a),X(a,x),X(a,K),T.buttons!=h&&T.buttons.length>0){var r=z.$29d();X(a,r)}X(W,L),T.maximized?(T.maximized=!1,z.bindingHandleWindowResize(),z.maximize(!0)):z.bindingHandleWindowResize(),z.isShowing()&&z.iv()}},hide:function(){var G=this,V=G.$21d,w=G.$41d,p=G._view;p[B]="ht-widget-dialog",y(V).duration(200).scale(.7).set(f,R).end(function(){G.onHidden&&G.onHidden(),z.Default.removeHTML(p),G.$10d.fire({kind:"hide",target:G})}),y(w).duration(200).set(f,R).end(),Q.removeEventListener("resize",G.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(a){this.$41d.style.display=a?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var h=this,H=h._config,F=h.$21d;v(F,G),h.iv(),H.maximized?h.$10d.fire({kind:"maximize",target:h}):h.$10d.fire({kind:"restore",target:h})},maximize:function(Q){var U=this,Y=U.$21d,p=U._config;if(!p.maximized){p.maximized=!0,U.$33d(),U.$16d[B]="dialog-title-control dialog-title-control-minimize";var $=x(),S=j(),I=p.width,m=p.height,T=J(Y.style.left)||0,Z=J(Y.style.top)||0;U.$36d=I,U.$37d=m,U.$34d=T,U.$35d=Z;var s=Q?0:200;y(Y).duration(s).set(u,R).set(V,R).set(W,$+i).set(o,S+i).end(function(){U.$32d()})}},restore:function(){var E=this,q=E.$34d,p=E.$35d,c=E.$36d,g=E.$37d,r=E._config;if(r.maximized&&(r.maximized=!1,E.$33d(),E.$16d[B]="dialog-title-control dialog-title-control-maximize",E.isShowing()&&q!=h&&p!=h&&c!=h&&g!=h)){var f=E.$21d;y(f).duration(200).set(u,q+i).set(V,p+i).set(W,c+i).set(o,g+i).end(function(){E.$32d()})}delete E.$34d,delete E.$35d,delete E.$36d,delete E.$37d},show:function(){var K=this,U=K._view,b=K._config,d=K.$21d,O=K.$41d;b&&b.zIndex!=h&&r(U,"z-index",b.zIndex+G),z.Default.appendToScreen(U),v(d,"scale(0.7)"),r(d,f,R),K.iv(),K.validate(),K._view[B]+=" dialog-show",c(function(){y(d).duration(200).scale(1).set(f,"1").end(function(){r(d,W,d.clientWidth+i),r(d,o,d.clientHeight+i),K.onShown&&K.onShown(),K.$10d.fire({kind:"show",target:K})}),y(O).duration(200).set(f,"1").end(),F(Q,"resize",K.bindingHandleWindowResize)},30)},setPosition:function(p){var M=this.$21d;M.style.left=p.x+"px",M.style.top=p.y+"px"},addEventListener:function(j,W,w){this.$10d.add(j,W,w)},removeEventListener:function(V,o){this.$10d.remove(V,o)},$38d:function(Y,F,J,$){var o=t.initContext(Y);t.translateAndScale(o,0,0,1),o.clearRect(0,0,J,J);var y=(J-$)/2;Z.drawStretchImage(o,Z.getImage(F),"fill",0,y,$,$),o.restore()},$33d:function(){var a=this,k=a._config,X=a.$16d,I=k.maximized?Z.dialogRestoreIcon:Z.dialogMaximizeIcon;if(X&&I){var e=a.$25d(),E=a.$24d();a.$38d(X,Z.getImage(I),e,E)}},$39d:function(){var P=this,A=P._config,S=P.$14d,l=A.titleIcon;if(S&&l){var w=P.$25d(),b=P.$24d();P.$38d(S,Z.getImage(l),w,b)}},$40d:function(){var b=this,A=b.$18d,N=Z.dialogCloseIcon;if(A&&N){var U=b.$25d(),J=b.$24d();b.$38d(A,Z.getImage(N),U,J)}},invalidate:function(u){var D=this,x=D.$42d;D._68I||(D._68I=1,Z.callLater(D.validate,D,h,u),D.onInvalidated&&D.onInvalidated(),D.fireViewEvent("invalidate"));var b=D._config.content;b.invalidate&&b.invalidate(),x&&x.forEach(function(v){v.iv()})},validateImpl:function(){var O=this;O.$40d(),O.$33d(),O.$39d();var Q=O._config.content;Q.initView&&(Q.setX(0),Q.setY(0),Q.setWidth(O.$7d.clientWidth),Q.setHeight(O.$7d.clientHeight))},adjustPosition:function(B,Q,A){var S=Q.width,b=Q.height,T=A.width,n=A.height,w=B.x,v=B.y,c=this._config,g=c.minDragSize||20;return"inside"===c.dragMode?(w+S>T&&(w=T-S),v+b>n&&(v=n-b),0>w&&(w=0),0>v&&(v=0)):(null==c.dragMode||"none"===c.dragMode)&&(-S+g>w&&(w=-S+g),w>T-g&&(w=T-g),v>n-g&&(v=n-g),0>v&&(v=0)),{x:w,y:v}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);