!function(N,R){"use strict";var Z="ht",e=N[Z],p="innerHTML",n="className",W=null,c="px",_=e.Default,Q=_.getInternal(),O="0",H=function(){return document},o=function(Z){return H().createElement(Z)},v=function(){return o("canvas")},U=function(d,X,T){d.style.setProperty(X,T,W)},d=function(R,X,k){_.def(e.widget[R],X,k)},C=function(S,x){S.appendChild(x)},r=function(B,u){B.removeChild(u)},P=function(K,v,E,x){K.addEventListener(v,E,!!x)},h=function(B,v,J,t){B.removeEventListener(v,J,!!t)},b=_.isTouchable;Q.addMethod(_,{menuLabelFont:(b?"16":"13")+"px arial, sans-serif",menuLabelColor:"#000",menuBackground:"#F0EFEE",menuHoverBackground:"#648BFE",menuHoverLabelColor:"#fff",menuSeparatorWidth:1,menuSeparatorColor:"#999"},!0),e.widget.Menu=function(m){var b=this,Z=b._view=Q.createView(null,b),l=b.$1g=new e.widget.ContextMenu,S=o("ul");l._r=!0,l._view[n]+=" ht-widget-dropdownmenu",Z[n]="ht-widget-menu",S[n]="header",U(Z,"margin",O),U(Z,"padding",O),U(Z,"background",_.menuBackground),U(Z,"-webkit-user-select","none"),U(Z,"-moz-user-select","none"),U(Z,"user-select","none"),U(Z,"text-align","left"),U(Z,"border-bottom",_.menuSeparatorWidth+"px solid "+_.menuSeparatorColor),U(Z,"cursor","default"),U(Z,"overflow","auto"),U(Z,"white-space","nowrap"),U(Z,"font",_.menuLabelFont),U(Z,"color",_.menuLabelColor),U(Z,"box-sizing","border-box"),U(Z,"-moz-box-sizing","border-box"),U(S,"list-style","none"),U(S,"margin",O),U(S,"padding",O),U(S,"display","inline-block"),C(Z,S),b.setItems(m),b.$2g=function(p){b.$3g(p)},b.$4g=function(w){b.$5g(w)},b.$6g=function(a){b.$7g(a)},b.$8g=function(Y){b.$9g(Y)},b.$9b=function(w){b.$10g(w)},b._autoShow=!0,b.setAutoShow(!1),l.afterHide=function(){b.$11g()},l.afterShow=function(){b.$12g()},h(H(),"keydown",l.$3b),b.$3b=function(z){b.$13g(z)},b.invalidate()},d("Menu",R,{_items:W,$14g:_.menuHoverBackground,$15g:_.menuHoverLabelColor,$16g:{},_enableGlobalKey:!1,ms_v:1,$21g:"smallicons",$22g:0,$23g:0,$24g:"left",getDropDownMenu:function(){return this.$1g},setLayout:function(w){var Y=this;if(Y.$21g=w,Y.setItems(Y._items),"largeicons"===w){for(var k=Y._view.querySelectorAll(".header-item"),$=0,A=0;A<k.length;A++){var v=k[A];$=Math.max($,v.clientWidth)}for(var A=0;A<k.length;A++){var v=k[A];U(v,"min-width",$+c)}}this.invalidate()},getLayout:function(){return this.$21g},setHeaderItemHGap:function(f){this.$22g=f;for(var q=this._view.querySelectorAll(".header-item"),b=0;b<q.length;b++){var v=q[b];U(v,"margin-left",f+c),U(v,"margin-right",f+c)}},getHeaderItemHGap:function(){return this.$22g},setHeaderItemVGap:function(v){this.$23g=v;for(var y=this._view.querySelectorAll(".header-item"),e=0;e<y.length;e++){var h=y[e];U(h,"margin-top",v+c),U(h,"margin-bottom",v+c)}},getHeaderItemVGap:function(){return this.$24g},setHeaderItemAlign:function(v){this.$24g=v,U(this._view,"text-align",v)},getHeaderItemAlign:function(){return this.$23g},enableGlobalKey:function(){var W=this,L=W._enableGlobalKey;L===!1&&(P(H(),"keydown",W.$3b),W._enableGlobalKey=!0)},disableGlobalKey:function(){this._enableGlobalKey=!1,h(H(),"keydown",this.$3b)},setHoverBackground:function(_){this.$14g=_},setHoverColor:function(B){this.$15g=B},setItems:function(J){var g=this,i=g._view,Q=g.$21g;if(g._items=J,i.children[0][p]="",g.$16g={},J&&J.length){for(var w=i.children[0],j=0,k=H().createDocumentFragment();j<J.length;j++){var O=J[j],E=o("li"),s=o("span");if(O.icon){var a=v();a[n]="menu-item-icon","smallicons"===Q?(U(a,"height","1.2em"),U(a,"width","1.2em"),U(a,"vertical-align","middle")):(U(a,"height","32px"),U(a,"width","32px"),U(a,"display","block"),U(a,"margin","0 auto")),a.$20g=O.icon,C(E,a)}E[n]="header-item",U(E,"display","inline-block"),U(E,"vertical-align","top"),U(E,"padding","0 1.2em"),U(E,"line-height","1.8em"),"largeicons"===Q&&U(E,"text-align","center"),U(E,"background-color","rgba(0,0,0,0)"),E.setAttribute("data-index",j),g.$16g[j]=O.items,s[p]=O.label,"iconsonly"!==Q&&C(E,s),C(k,E)}C(w,k)}},showDropdownMenu:function(o){var H=this,h=H.$16g[o],$=H.$1g,L=H._view.children[0].children[o],d=H.$17g;if(L&&L!==d){d&&H.hideDropdownMenu();var z=L.getBoundingClientRect(),B=_.getWindowInfo();H.$17g=L,$.setItems(h),$.show(z.left+B.left,z.top+z.height+B.top,!1)}},hideDropdownMenu:function(){this.$1g.hide()},getItemByProperty:function(k,i){var s=this,T=s._items;return T&&0!==T.length?s.$1g.getItemByProperty(k,i,T):W},$12g:function(){var y=this,M=y.$17g;M.style.background=y.$14g,M.style.color=y.$15g,y._autoShow||P(H(),b?"touchstart":"mousedown",y.$9b)},$11g:function(){var S=this,v=S.$17g;v&&(v.style.background="",v.style.color="",S.$17g=W),h(H(),b?"touchstart":"mousedown",S.$9b)},$10g:function(R){var $=this,W=$._view,A=$.$1g,p=W.children[0];!H().body.contains(W)||p.contains(R.target)||A._view.contains(R.target)||$.hideDropdownMenu()},$13g:function(l){var W=this,m=W.$1g;H().body.contains(W._view)&&m.$13b.$4b.call(m.$13b,l,W._items)},setAutoShow:function(Y){var I=this,T=I.$1g,d=I._view;I._autoShow!==Y&&(I._autoShow?(h(d,"mouseover",I.$2g),h(d,"mouseout",I.$4g),h(T._view,"mouseout",I.$4g),b||(P(d,"mouseover",I.$8g),P(d,"mouseout",I.$8g)),P(d,b?"touchstart":"mousedown",I.$6g)):(h(d,"mouseover",I.$8g),h(d,"mouseout",I.$8g),h(d,b?"touchstart":"mousedown",I.$6g),h(H(),b?"touchstart":"mousedown",I.$9b),b||(P(d,"mouseover",I.$2g),P(d,"mouseout",I.$4g),P(T._view,"mouseout",I.$4g))),I._autoShow=Y)},$3g:function(m){var B=this,G=B._view.children[0],D=m.target;if(G!==D&&G.contains(D)){for(;"header-item"!==D[n];)D=D.parentNode;B.showDropdownMenu(D.getAttribute("data-index"))}},$5g:function(v){var T=this,F=T._view.children[0],q=T.$1g,Q=v.target,V=v.relatedTarget;!F.contains(Q)&&!q._view.contains(Q)||F.contains(V)||q._view.contains(V)||T.hideDropdownMenu()},$7g:function(H){H.preventDefault();var B=this,N=B._view.children[0],e=B.$1g,v=H.target;if(_.isLeftButton(H)&&N!==v&&N.contains(v))if(b){for(;"header-item"!==v[n];)v=v.parentNode;var h=v.getAttribute("data-index"),e=B.$1g,i=B._view.children[0].children[h],j=B.$17g;e.isShowing()&&B.hideDropdownMenu(),i!==j&&B.showDropdownMenu(h)}else if(e.isShowing())B.hideDropdownMenu();else{for(;"header-item"!==v[n];)v=v.parentNode;B.showDropdownMenu(v.getAttribute("data-index"))}},$9g:function(Q){var R=this,$=R._view,g=R.$1g,B=Q.target;if($.contains(B)){for(var o=$.querySelectorAll(".header-item"),d=W,G=0;G<o.length;G++){var H=o[G];H.style.background="",H.style.color="","mouseover"===Q.type?H.contains(B)&&(d=H):"mouseout"===Q.type&&g.isShowing()&&R.$17g===H&&(d=H)}g.isShowing()&&(d||(d=R.$17g),R.showDropdownMenu(d.getAttribute("data-index"))),d&&(d.style.background=R.$14g,d.style.color=R.$15g)}},getShowingMenuIndex:function(){var $=this.$17g;return $?$.getAttribute("data-index"):-1},addTo:function(M){var s=this,w=s._view;C(M,w),s.invalidate()},dispose:function(){var E=this,O=E._view,Z=E.$1g;O&&(E._autoShow?(h(O,"mouseover",E.$2g),h(O,"mouseout",E.$4g),h(Z._view,"mouseout",E.$4g)):(h(O,"mouseover",E.$8g),h(O,"mouseout",E.$8g),h(O,b?"touchstart":"mousedown",E.$6g),h(H(),b?"touchstart":"mousedown",E.$9b)),h(H(),"keydown",E.$3b),Z.dispose(),O.parentNode&&r(O.parentNode,O),E._view=E.$1g=E.$16g=E._items=E.$17g=E.$2g=E.$4g=E.$6g=E.$8g=E.$9b=E.$3b=W)},$19g:function(V,D,i,v){var T=Q.initContext(V);Q.translateAndScale(T,0,0,1),T.clearRect(0,0,i,v),_.drawStretchImage(T,_.getImage(D),"fill",0,0,i,v),T.restore()},validateImpl:function(){var V,z,A,o=this,N=o._view,w=N.querySelectorAll(".menu-item-icon");for(A=0;A<w.length;A++){var t=w[A];V=t.clientWidth,z=t.clientHeight,V&&z&&(Q.setCanvas(t,V,z),o.$19g(t,_.getImage(t.$20g),V,z))}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);